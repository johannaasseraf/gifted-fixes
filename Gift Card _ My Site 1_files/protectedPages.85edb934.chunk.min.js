(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[57],{726:function(t,e,n){"use strict";n.r(e),n.d(e,"site",(function(){return v}));var r,i=n(0),c=n(7),a=n(30),o=n(286);!function(t){t.SM="SM",t.Pass="PASS",t.NONE="NONE"}(r||(r={}));var u=Object(c.h)([Object(c.f)(a.c,o.a),Object(c.f)(a.e,o.a),Object(c.f)(a.b,o.a)],(function(t,e,n){return{handle:function(c){return Object(i.b)(this,void 0,void 0,(function(){var a,o,u,s,d;return Object(i.d)(this,(function(b){return c.pageJsonFileName?[2,c]:(a=c.pageId,o=n.get(),u=o.pagesMap,s=o.loginAndNavigate,u[a]?[2,Object(i.a)(Object(i.a)({},c),{pageJsonFileName:u[a]})]:((d=function(n){var i=t.pagesSecurity[n];return i&&i.requireLogin?r.SM:e.passwordProtected[n]||i&&i.passwordDigest?r.Pass:r.NONE}(a))===r.NONE&&function(t,e){throw new Error("we do not have authentication info for protected page "+t+" page security: "+e)}(a,t.pagesSecurity[a]),s(c,d),[2,null]))}))}))}}})),s=n(6),d=n(249),b=n(267),p=n(29),f=Object(c.h)([Object(c.f)(a.b,o.a),s.c,Object(c.g)(d.b),Object(c.g)(b.b),p.f],(function(t,e,n,c,a){var o=function(t){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return c?[4,c.promptPasswordDialog(t)]:[3,2];case 1:return[2,e.sent()];case 2:return[2,{}]}}))}))},u=function(t,e){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(c){return[2,t===r.SM?Object(i.b)(void 0,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(e){switch(e.label){case 0:return n?[4,n.requestAuthentication({})]:[3,2];case 1:if((t=e.sent()).success)return[2,n.authorizeMemberPagesByToken(t.token)];e.label=2;case 2:return[2,{}]}}))})):o(e)]}))}))},s=function(n,r){return Object(i.b)(void 0,void 0,void 0,(function(){var c,o,s,d;return Object(i.d)(this,(function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),o=n.pageId,[4,u(r,o)];case 1:return s=b.sent(),t.update((function(t){return Object(i.a)(Object(i.a)({},t),{pagesMap:Object.assign(t.pagesMap,s)})})),c=s[o]?n.parsedUrl.href:"./",[3,3];case 2:return d=b.sent(),a.captureError(d,{tags:{feature:"protectedPage"}}),c="./",[3,3];case 3:return[2,e.navigate(c)]}}))}))};return t.update((function(){return{loginAndNavigate:s,pagesMap:{}}})),{appWillMount:function(){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return[2]}))}))}}})),O=n(52),v=function(t){t(s.e.Protected).to(u),t(O.a.AppWillMountHandler).to(f)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/protectedPages.85edb934.chunk.min.js.map
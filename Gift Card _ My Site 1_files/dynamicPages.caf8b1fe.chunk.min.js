(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[30],{741:function(t,e,a){"use strict";a.r(e),a.d(e,"site",(function(){return S}));var n,r=a(0),i=a(7),o=a(6),c=a(30),u=a(29),s=a(242),p=a(343),d=a(241),l=a(342),f=a(24),b=a(301),g=a(278),h=a(19);!function(t){t.PAGES="pages",t.SITEMAP="sitemap"}(n||(n={}));var v=function(t){return/(^https?)|(^data)|(^blob)|(^\/\/)/.test(t)},_=function(t){return t.replace("./","").split("/")},j=function(t,e,a,n,r){var i=t.optionsData.bodyData,o=i.routerPrefix,c=i.config,u=i.pageRoles,s=function(t){return"/"+_(t).slice(1).join("/")}(e),p=""+n+o+s+a;return JSON.stringify({routerPrefix:o,routerSuffix:s,fullUrl:p,config:c,pageRoles:u,requestInfo:{formFactor:r}})},O=function(t,e,a,n,i,o,c){var u=t.urlData,s=u.basePath,p=u.queryParams,d=u.appDefinitionId;return{url:function(t,e,a){var n=new URL(t);return n.searchParams.append(e,a),n.toString()}(s+"/"+c+"?"+p,"instance",a.getAppInstanceByAppDefId(d)),options:Object(r.a)(Object(r.a)({method:"POST",body:j(t,n,i,o,e),headers:t.optionsData.headers},t.optionsData.credentials?{credentials:t.optionsData.credentials}:{}),t.optionsData.mode?{mode:t.optionsData.mode}:{})}},m="__403__dp",D="__404__dp",I="__500__dp",w="__uknown_error__dp",U=function(t,e){return/^\/(.*)/.test(t)?"."+t:"./"+e+"/"+t},P=Object(i.h)([Object(i.f)(c.e,b.a),u.b,f.a,s.a,p.a,d.a,o.g,h.d,l.a,u.f],(function(t,e,a,i,o,c,u,s,p,d){var l=t.prefixToRouterFetchData,f=t.routerPagesSeoToIdMap,h=t.externalBaseUrl,j=t.viewMode,P=function(){d.interactionStarted("initial-dynamic-page-navigation"),d.interactionEnded("initial-dynamic-page-navigation")},S=function(t,e,a){var n=function(t,e,a,n){if(v(t))return t;var r=U(t,a),i=new URL(r,e+"/");return i.search=n,i.toString()}(t,h,e,a.search);i.setHead('<meta http-equiv="refresh" content="0;url='+n+'" />')};return{getSitemapFetchParams:function(t){var e=l[t];return e?O(e,j,a,u.getRelativeUrl(),u.getParsedUrl().search,h,n.SITEMAP):null},handle:function(t){return Object(r.b)(this,void 0,void 0,(function(){var i,u,d,R,y,x,A=this;return Object(r.d)(this,(function(E){switch(E.label){case 0:return!t.pageId&&t.relativeUrl&&t.parsedUrl?(k=t.relativeUrl,i=_(k)[0],(u=l[i])?[4,(T=c.getCurrentRouteInfo(),!p["specs.thunderbolt.dynamicPagesWarmupData"]||T?null:s.getWarmupData(b.a,{timeout:0}))]:f[i]?[2,Object(r.a)(Object(r.a)({},t),{pageId:D})]:[2,t]):[3,2];case 1:return(d=E.sent())?(P(),[2,Object(r.a)(Object(r.a)({},t),d)]):(R=O(u,j,a,t.relativeUrl,t.parsedUrl.search,h,n.PAGES),y=R.url,x=R.options,[2,o.envFetch(y,x).then((function(a){return Object(r.b)(A,void 0,void 0,(function(){var n,o,u,s,p,d,l,f,b,h;return Object(r.d)(this,(function(_){switch(_.label){case 0:if(!a.ok)throw a;return[4,a.json()];case 1:return n=_.sent(),o=n.result,u=n.exception,s=o.page,p=o.data,d=o.head,l=o.tpaInnerRoute,f=o.publicData,(b=o.redirectUrl)?Object(g.e)(e)?(S(b,i,t.parsedUrl),[2,null]):(v(b)&&e.location.assign(b),[2,{redirectUrl:U(b,i)}]):(!c.getCurrentRouteInfo()&&e&&P(),[2,(h=function(t,e){var a=t.status,n=t.page,r=t.redirectUrl;return e?I:403===a?m:404===a?D:n||r?null:w}(o,u))?Object(r.a)(Object(r.a)({},t),{pageId:h}):Object(r.a)(Object(r.a)({},t),{pageId:s,dynamicRouteData:{pageData:p,pageHeadData:d,publicData:f,tpaInnerRoute:l}})])}}))}))})).catch((function(){return Object(g.e)(e)?null:Object(r.a)(Object(r.a)({},t),{pageId:I})}))]);case 2:return[2,t]}var T,k}))}))}}})),S=function(t){t(o.e.Dynamic,c.a).to(P)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/dynamicPages.caf8b1fe.chunk.min.js.map